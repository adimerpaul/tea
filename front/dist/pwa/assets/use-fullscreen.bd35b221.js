import{c as le,B as ae,ac as w,ad as se,E as ie,r as E,a as b,ae as re,G as ue,af as ce,H as de,ag as fe,w as y,o as x,z as $,s as q,ak as ve,h as A,am as he,g as I,d as me,A as ge,aH as pe,aI as ye,J as Te,aJ as B}from"./index.5ee4276e.js";import{u as be,v as L,e as Pe,p as j,f as Se,g as we,r as D,s as Ee,c as R,h as xe}from"./QMenu.0024118e.js";var He=le({name:"QTooltip",inheritAttrs:!1,props:{...be,...ae,...w,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...w.transitionShow,default:"jump-down"},transitionHide:{...w.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:L},self:{type:String,default:"top middle",validator:L},offset:{type:Array,default:()=>[14,14],validator:Pe},scrollTarget:se,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...ie],setup(e,{slots:v,emit:h,attrs:o}){let l,a;const u=I(),{proxy:{$q:t}}=u,s=E(null),r=E(!1),c=b(()=>j(e.anchor,t.lang.rtl)),f=b(()=>j(e.self,t.lang.rtl)),N=b(()=>e.persistent!==!0),{registerTick:Q,removeTick:V}=re(),{registerTimeout:T}=ue(),{transitionProps:W,transitionStyle:J}=ce(e),{localScrollTarget:O,changeScrollEvent:_,unconfigureScrollTarget:z}=Se(e,F),{anchorEl:i,canShow:G,anchorEvents:m}=we({showing:r,configureAnchorEl:te}),{show:U,hide:P}=de({showing:r,canShow:G,handleShow:X,handleHide:Y,hideOnRouteChange:N,processOnMount:!0});Object.assign(m,{delayShow:Z,delayHide:ee});const{showPortal:C,hidePortal:H,renderPortal:K}=fe(u,s,oe,"tooltip");if(t.platform.is.mobile===!0){const n={anchorEl:i,innerRef:s,onClickOutside(d){return P(d),d.target.classList.contains("q-dialog__backdrop")&&ge(d),!0}},S=b(()=>e.modelValue===null&&e.persistent!==!0&&r.value===!0);y(S,d=>{(d===!0?xe:D)(n)}),x(()=>{D(n)})}function X(n){C(),Q(()=>{a=new MutationObserver(()=>g()),a.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),g(),F()}),l===void 0&&(l=y(()=>t.screen.width+"|"+t.screen.height+"|"+e.self+"|"+e.anchor+"|"+t.lang.rtl,g)),T(()=>{C(!0),h("show",n)},e.transitionDuration)}function Y(n){V(),H(),k(),T(()=>{H(!0),h("hide",n)},e.transitionDuration)}function k(){a!==void 0&&(a.disconnect(),a=void 0),l!==void 0&&(l(),l=void 0),z(),$(m,"tooltipTemp")}function g(){Ee({targetEl:s.value,offset:e.offset,anchorEl:i.value,anchorOrigin:c.value,selfOrigin:f.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Z(n){if(t.platform.is.mobile===!0){R(),document.body.classList.add("non-selectable");const S=i.value,d=["touchmove","touchcancel","touchend","click"].map(M=>[S,M,"delayHide","passiveCapture"]);q(m,"tooltipTemp",d)}T(()=>{U(n)},e.delay)}function ee(n){t.platform.is.mobile===!0&&($(m,"tooltipTemp"),R(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),T(()=>{P(n)},e.hideDelay)}function te(){if(e.noParentEvent===!0||i.value===null)return;const n=t.platform.is.mobile===!0?[[i.value,"touchstart","delayShow","passive"]]:[[i.value,"mouseenter","delayShow","passive"],[i.value,"mouseleave","delayHide","passive"]];q(m,"anchor",n)}function F(){if(i.value!==null||e.scrollTarget!==void 0){O.value=ve(i.value,e.scrollTarget);const n=e.noParentEvent===!0?g:P;_(O.value,n)}}function ne(){return r.value===!0?A("div",{...o,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,J.value],role:"tooltip"},me(v.default)):null}function oe(){return A(he,W.value,ne)}return x(k),Object.assign(u.proxy,{updatePosition:g}),K}});let p=0;const ke={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Fe=["update:fullscreen","fullscreen"];function Me(){const e=I(),{props:v,emit:h,proxy:o}=e;let l,a,u;const t=E(!1);pe(e)===!0&&y(()=>o.$route.fullPath,()=>{v.noRouteFullscreenExit!==!0&&c()}),y(()=>v.fullscreen,f=>{t.value!==f&&s()}),y(t,f=>{h("update:fullscreen",f),h("fullscreen",f)});function s(){t.value===!0?c():r()}function r(){t.value!==!0&&(t.value=!0,u=o.$el.parentNode,u.replaceChild(a,o.$el),document.body.appendChild(o.$el),p++,p===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:c},B.add(l))}function c(){t.value===!0&&(l!==void 0&&(B.remove(l),l=void 0),u.replaceChild(o.$el,a),t.value=!1,p=Math.max(0,p-1),p===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),o.$el.scrollIntoView!==void 0&&setTimeout(()=>{o.$el.scrollIntoView()})))}return ye(()=>{a=document.createElement("span")}),Te(()=>{v.fullscreen===!0&&r()}),x(c),Object.assign(o,{toggleFullscreen:s,setFullscreen:r,exitFullscreen:c}),{inFullscreen:t,toggleFullscreen:s}}export{He as Q,Fe as a,Me as b,ke as u};
